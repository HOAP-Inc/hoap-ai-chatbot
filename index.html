<!doctype html>
<html lang='ja'>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <title>HOAP ã‚µã‚¤ãƒˆç”¨ãƒãƒ£ãƒƒãƒˆ</title>
  <style>
    :root {
      --z: 2147483000;
      --radius: 16px;
      --shadow: 0 8px 24px rgba(0,0,0,.18);
      --bg: #ffffff;
      /* ãƒ”ãƒ³ã‚¯â†’ç´«ï¼ˆè¦‹ã‚„ã™ãé©åº¦ã«æ¿ƒã„ï¼‰ */
      --grad1: #f9a8d4; /* pink-300 */
      --grad2: #d8b4fe; /* purple-300 */
      --grad3: #c4b5fd; /* violet-300 */
    }
    * { box-sizing: border-box; }

    .hoap-chat-launcher {
      position: fixed; right: 20px; bottom: 20px; z-index: var(--z);
      width: 64px; height: 64px; border-radius: 999px; border: none; cursor: pointer;
      background: linear-gradient(135deg, var(--grad1), var(--grad2), var(--grad3));
      color: #fff; font-size: 24px; display: grid; place-items: center;
      box-shadow: var(--shadow);
    }

    .hoap-chat {
      position: fixed; right: 20px; bottom: 100px; z-index: var(--z);
      width: 360px; max-width: calc(100vw - 40px);
      background: var(--bg); border-radius: var(--radius); box-shadow: var(--shadow);
      border: 1px solid #e5e7eb; isolation: isolate;
      display: none; flex-direction: column; overflow: hidden;
    }
    .hoap-chat.open { display: flex; }

    .hoap-chat-header {
      padding: 12px 14px;
      background: linear-gradient(135deg, var(--grad1), var(--grad2), var(--grad3));
      color: #fff; display: flex; align-items: center; gap: 10px;
    }
    .hoap-chat-header .title { font-weight: 700; font-size: 14px; }
    .hoap-chat-header .sub { font-size: 12px; opacity: .9; }
    .hoap-chat-close { margin-left: auto; background: transparent; color: #fff; border: none; font-size: 18px; cursor: pointer; }

    /* æœ¬æ–‡ï¼ˆå¹ãå‡ºã—=å‰æ™¯ / ã»ãƒ¼ã·ã¡ã‚ƒã‚“=ä¸­æ™¯ï¼‰ */
    .hoap-chat-body {
      padding: 12px; height: 420px; overflow-y: auto; background: #fafafa;
      position: relative; /* â˜… ã»ãƒ¼ã·ã¡ã‚ƒã‚“ã®åŸºæº– */
      z-index: 0;
    }

    .msg { display: flex; gap: 8px; margin-bottom: 10px; position: relative; z-index: 2; }
    .msg.user { justify-content: flex-end; }
    .bubble { padding: 10px 12px; border-radius: 14px; max-width: 80%; line-height: 1.4; font-size: 14px; }
    .msg.bot .bubble { background: #fff; border: 1px solid #e5e7eb; }
    .msg.user .bubble { background: linear-gradient(135deg, var(--grad1), var(--grad2), var(--grad3)); color: #fff; }

    .quick {
      display: flex; flex-wrap: wrap; gap: 8px; padding: 10px 12px;
      border-top: 1px solid #e5e7eb; background: #fff;
    }
    .quick button {
      border: 1px solid #e5e7eb; background: #fff; border-radius: 999px;
      padding: 6px 10px; font-size: 12px; cursor: pointer;
    }

    .hoap-chat-input {
      display: flex; gap: 8px; padding: 10px; border-top: 1px solid #e5e7eb; background: #fff;
    }
    .hoap-chat-input input {
      flex: 1; border: 1px solid #e5e7eb; border-radius: 10px; padding: 10px; font-size: 14px;
    }
    .hoap-chat-input button {
      background: linear-gradient(135deg, var(--grad1), var(--grad2), var(--grad3));
      color: #fff; border: none; padding: 0 14px; border-radius: 10px; cursor: pointer;
    }

    /* â˜… ã»ãƒ¼ã·ã¡ã‚ƒã‚“ï¼šæœ¬æ–‡ã®ä¸­ã§çµ¶å¯¾é…ç½®ï¼ˆèƒŒæ™¯ã®ä¸Šãƒ»å¹ãå‡ºã—ã®ä¸‹ï¼‰ */
    .mascot{
      position: absolute;       /* hoap-chat-body ã‚’åŸºæº– */
      right: 8px;
      bottom: 140px;            /* ä»®å€¤ã€‚JSã§ä¸Šæ›¸ã */
      width: min(78%, 300px);
      pointer-events: none;
      z-index: 1;               /* èƒŒæ™¯(0) < ã»ãƒ¼ã·(1) < å¹ãå‡ºã—(2) */
      filter: drop-shadow(0 10px 24px rgba(0,0,0,.22));
      opacity: .98;
      animation: floaty 4.8s ease-in-out infinite;
    }
    @keyframes floaty {
      0% { transform: translateY(0) rotate(0.4deg); }
      50% { transform: translateY(-8px) rotate(-0.4deg); }
      100% { transform: translateY(0) rotate(0.4deg); }
    }
    @media (prefers-reduced-motion: reduce) {
      .mascot { animation: none; }
    }
  </style>
</head>
<body>
  <button class='hoap-chat-launcher' aria-label='ãƒãƒ£ãƒƒãƒˆã‚’é–‹ã'>ğŸ’¬</button>

  <div class='hoap-chat' role='dialog' aria-label='HOAP ã‚µã‚¤ãƒˆãƒãƒ£ãƒƒãƒˆ'>
    <div class='hoap-chat-header'>
      <div>
        <div class='title'>HOAP-chan</div>
        <div class='sub'>åŒ»ç™‚ãƒ»æ­¯ç§‘ãƒ»ä»‹è­·æ¥­ç•Œç‰¹åŒ– æ¡ç”¨æ”¯æ´</div>
      </div>
      <button class='hoap-chat-close' aria-label='é–‰ã˜ã‚‹'>Ã—</button>
    </div>

    <!-- â˜… ã»ãƒ¼ã·ã¡ã‚ƒã‚“ã¯æœ¬æ–‡ã®â€œä¸­â€ã«ç½®ã -->
    <div class='hoap-chat-body' id='chatBody'>
      <img class='mascot' src='hoap-basic.png' alt='HOAP-chan'>
    </div>

    <div class='quick' id='quickArea'>
      <button data-intent='about'>ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦</button>
      <button data-intent='trend'>æ¡ç”¨ãƒˆãƒ¬ãƒ³ãƒ‰</button>
      <button data-intent='challenge'>æ¡ç”¨èª²é¡Œ</button>
      <button data-intent='solution'>HOAPã®è§£æ±ºæ³•</button>
      <button data-intent='feature'>æ”¯æ´ã®ç‰¹å¾´</button>
      <button data-intent='insta'>Instagramé‹ç”¨</button>
      <button data-intent='cases'>äº‹ä¾‹ç´¹ä»‹</button>
      <button data-intent='price'>æ–™é‡‘</button>
      <button data-intent='flow'>å°å…¥ãƒ•ãƒ­ãƒ¼</button>
      <button data-intent='contact'>å•ã„åˆã‚ã›</button>
    </div>

    <div class='hoap-chat-input'>
      <input id='chatInput' type='text' placeholder='è³ªå•ã‚’å…¥åŠ›ã—ã¦é€ä¿¡'>
      <button id='sendBtn'>é€ä¿¡</button>
    </div>
  </div>

  <script>
    // è¦ç´ å‚ç…§
    const bodyEl   = document.getElementById('chatBody');
    const inputEl  = document.getElementById('chatInput');
    const sendBtn  = document.getElementById('sendBtn');
    const quickEl  = document.getElementById('quickArea');

    const launcher = document.querySelector('.hoap-chat-launcher');
    const dialog   = document.querySelector('.hoap-chat');
    const closeBtn = document.querySelector('.hoap-chat-close');
    const mascot  = document.querySelector('.mascot');

    // ãƒŠãƒ¬ãƒƒã‚¸ï¼ˆè³‡æ–™æº–æ‹ ï¼‰
    const KB = {
      about: 'HOAPã¯åŒ»ç™‚ãƒ»æ­¯ç§‘ãƒ»ä»‹è­·æ¥­ç•Œã«ç‰¹åŒ–ã—ãŸæ¡ç”¨æ”¯æ´ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¦ã„ã‚‹ã‚ˆã€‚æ±‚äººåª’ä½“ï¼‹SNSé‹ç”¨ã‚’ä»£è¡Œã—ã€æ‰‹é–“ãªãæ¬²ã—ã„äººæã‹ã‚‰å¿œå‹Ÿã‚’é›†ã‚ã‚‹ã®ãŒå¾—æ„ãªã‚“ã ï¼',
      trend: 'æ±‚è·è€…ã¯å¿œå‹Ÿå‰ã«SNSã§æƒ…å ±åé›†ã™ã‚‹æ™‚ä»£ã€‚æ±‚è·è€…ã®8å‰²ãŒSNSã§æ°—ã«ãªã‚‹ä¼šç¤¾ã‚’æ¤œç´¢ã—ã€è·å ´ã®é›°å›²æ°—ã‚„äººé–“é–¢ä¿‚ã‚’ç¢ºèªã—ã¦ã‹ã‚‰å¿œå‹Ÿã™ã‚‹ã‚“ã ã€‚',
      challenge: 'ã‚ˆãç›¸è«‡ã•ã‚Œã‚‹èª²é¡Œã¯ã€Œå¿œå‹ŸãŒæ¥ãªã„ã€ã€Œæ™‚é–“ãŒãªã„ã€ã€Œé›¢è·ãŒå¤šã„ã€ã€‚è¨ºç™‚ã‚„è¨ªå•ã«è¿½ã‚ã‚Œã€æ¡ç”¨ã«æ‰‹ãŒå›ã‚‰ãªã„çµŒå–¶è€…ã‚‚å¤šã„ã‚“ã ã€‚',
      solution: 'HOAPã¯æ¥­ç•Œç‰¹åŒ–ã®ãƒã‚¦ãƒã‚¦ã§å¿œå‹Ÿã‚’é›†ã‚ã€åª’ä½“ã®é‹ç”¨ãƒ»ã‚¹ã‚«ã‚¦ãƒˆãƒ»é¢æ¥æ—¥èª¿æ•´ã€æ¡ç”¨åºƒå ±ã®SNSé‹ç”¨ãªã©å®Ÿå‹™ã¾ã§ä»£è¡Œã—ã¦ã„ã‚‹ã‚ˆã€‚çµŒå–¶è€…ã‚„äº‹å‹™ã‚¹ã‚¿ãƒƒãƒ•ã¯ã‚³ã‚¢æ¥­å‹™ã«å°‚å¿µã§ãã‚‹ã‚“ã ï¼',
      feature: 'ç‰¹å¾´ã¯3ã¤ã€‚â‘ æ¬²ã—ã„äººæåƒã‚’æ˜ç¢ºåŒ– â‘¡åª’ä½“é‹ç”¨ã‚„ã‚¹ã‚«ã‚¦ãƒˆé€ä»˜ã‚’ä»£è¡Œ â‘¢æ¯æœˆãƒ‡ãƒ¼ã‚¿åˆ†æã¨æ”¹å–„ææ¡ˆ',
      insta: 'Instagramé‹ç”¨æ”¯æ´ã§ã¯ã€ä»–ç¤¾ã¨ã®å·®åˆ¥åŒ–Ã—æ±‚è·è€…ã«å…±æ„Ÿã•ã‚Œã‚‹æŠ•ç¨¿ã‚’è¨­è¨ˆã—ã€ãƒ•ã‚¡ãƒ³åŒ–ã‚’ç‹™ã†ã‚ˆã€‚ãŠå®¢æ§˜ã¯å†™çœŸã®æä¾›ã¨ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã®å›ç­”ã€æŠ•ç¨¿å‰ã®ãƒã‚§ãƒƒã‚¯ã ã‘ã§ã„ã„ã‚“ã ï¼',
      cases: 'äº‹ä¾‹â‘  å…µåº«çœŒã®è¨ªå•çœ‹è­·ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ§˜ã§ã¯äººäº‹éƒ¨é–€ã‚’ã‚¢ã‚¦ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°ã—ã¦å¿œå‹ŸãŒå¢—åŠ ã€‚äº‹ä¾‹â‘¡åƒè‘‰çœŒã®ä»‹è­·äº‹æ¥­æ‰€æ§˜ã§ã¯ãªã‚“ã¨å¿œå‹Ÿæ•°ãŒ2.5å€ã«ã€‚ã€€äº‹ä¾‹â‘¢æ±äº¬éƒ½ã®è¨ªå•çœ‹è­·ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ§˜ã§ã¯æ±‚è·è€…ã‹ã‚‰DMã§å¿œå‹ŸãŒæ¥ãŸã‚Šé¢æ¥ã§ã€Œã‚¤ãƒ³ã‚¹ã‚¿ã‚’è¦‹ã¦å¿œå‹Ÿã‚’æ±ºã‚ã¾ã—ãŸã€ã¨ã„ã†å£°ã‚‚ã‚ã‚‹ã‚“ã ã€‚',
      price: 'æ¡ç”¨æ”¯æ´ã¯æœˆé¡10ä¸‡å††ã€œï¼ˆæ±‚äººæ•°ãƒ»æœŸé–“ã«ã‚ˆã‚Šå¤‰å‹•ï¼‰ã€‚Instagramé‹ç”¨æ”¯æ´ã¯æœˆé¡15ä¸‡å††ã€‚åˆæœŸè²»ç”¨ã¯å„10ä¸‡å††ã§æä¾›ã—ã¦ã„ã‚‹ã‚ˆï¼',
      flow: 'å°å…¥ãƒ•ãƒ­ãƒ¼ã¯ â‘ ç„¡æ–™ç›¸è«‡ â‘¡å¥‘ç´„ â‘¢ã‚­ãƒƒã‚¯ã‚ªãƒ•MTG â‘£æ”¯æ´é–‹å§‹ã€‚æœ€çŸ­3å–¶æ¥­æ—¥ã§ç€æ‰‹å¯èƒ½ã ã‚ˆï¼',
      contact: 'ãŠå•ã„åˆã‚ã›ã¯ãƒ¡ãƒ¼ãƒ«ï¼ˆinfo@hoap-inc.jpï¼‰ã€SNS DMã§ã‚‚OKâ—ã“ã®Chatã«é€£çµ¡å…ˆã‚’æ•™ãˆã¦ã‚‚ã‚‰ãˆã‚Œã°æ‹…å½“è€…ã‹ã‚‰æŠ˜ã‚Šè¿”ã™ã“ã¨ã‚‚ã§ãã‚‹ã‚ˆã€‚'
    };

    // ã»ãƒ¼ã·ã¡ã‚ƒã‚“ã®ä¸‹ãƒãƒ¼ã‚¸ãƒ³ï¼è³ªå•ãƒœã‚¿ãƒ³ï¼‹é€ä¿¡æ¬„ã®é«˜ã•ã§ç¢ºä¿
    function placeMascot() {
      if (!mascot) return;
      const quickH = document.querySelector('.quick')?.offsetHeight || 0;
      const inputH = document.querySelector('.hoap-chat-input')?.offsetHeight || 0;
      const gap = 10;
      mascot.style.bottom = (quickH + inputH + gap) + 'px';
    }

    // å¹ãå‡ºã—
    function addMsg(side, text) {
      const wrap = document.createElement('div');
      wrap.className = 'msg ' + side;
      const bub = document.createElement('div');
      bub.className = 'bubble';
      bub.textContent = text;
      wrap.appendChild(bub);
      bodyEl.appendChild(wrap);
      bodyEl.scrollTop = bodyEl.scrollHeight;
      placeMascot(); // é«˜ã•å¤‰åŒ–ã«è¿½å¾“
    }
    const botSay  = (t)=>addMsg('bot', t);
    const userSay = (t)=>addMsg('user', t);

    // ãƒœã‚¿ãƒ³æŠ¼ä¸‹ï¼šã¾ãšãƒ¦ãƒ¼ã‚¶ãƒ¼å¹ãå‡ºã—â†’æ¬¡ã«å›ç­”
    function answer(intent) {
      const btn = quickEl.querySelector(`[data-intent='${intent}']`);
      if (btn) userSay(btn.textContent);
      botSay(KB[intent] || 'è³‡æ–™ã«ãªã„è³ªå•ã ã‚ˆã€‚åˆ¥ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã¿ã¦ï¼');
    }

    // è‡ªç”±å…¥åŠ›ï¼ˆä»Šã¯æ¡ˆå†…ã®ã¿ï¼‰
    function handleInput() {
      const text = inputEl.value.trim();
      if (!text) return;
      userSay(text);
      inputEl.value = '';
      botSay('ãƒœã‚¿ãƒ³ã§é¸ã¶ã¨ã™ãç­”ãˆã‚‹ã‚ˆï¼');
    }

    sendBtn.addEventListener('click', handleInput);
    inputEl.addEventListener('keydown', e => { if (e.key === 'Enter') handleInput(); });
    quickEl.addEventListener('click', e => {
      const btn = e.target.closest('button'); if (!btn) return;
      answer(btn.dataset.intent);
    });

    // é–‹é–‰
    function openChat() {
      dialog.classList.add('open');
      if (!bodyEl.dataset.welcomed) {
        botSay('ã“ã‚“ã«ã¡ã¯ï¼ã»ãƒ¼ã·ã¡ã‚ƒã‚“ã ã‚ˆã€‚æ°—ã«ãªã‚‹ã¨ã“ã‚ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã­ï¼');
        bodyEl.dataset.welcomed = '1';
      }
      placeMascot();
      inputEl.focus();
    }
    function closeChat() { dialog.classList.remove('open'); }

    launcher.addEventListener('click', openChat);
    closeBtn.addEventListener('click', closeChat);

    // ãƒªã‚µã‚¤ã‚ºç­‰ã§å†è¨ˆç®—
    window.addEventListener('resize', placeMascot);
    if (window.ResizeObserver) {
      const ro = new ResizeObserver(placeMascot);
      const q  = document.querySelector('.quick');
      const i  = document.querySelector('.hoap-chat-input');
      if (q) ro.observe(q);
      if (i) ro.observe(i);
    }

    // åˆæœŸ
    placeMascot();
  </script>
</body>
</html>
